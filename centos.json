{
 "builders": [
 {
  "type": "vsphere-iso",

  "vcenter_server": "{{user `vcenter_server`}},
  "username": "{{user `username`}}",
  "password": "{{user `password`}}",
  "insecure_connection": "true",

  "datacenter": "{{user `vsphere-datacenter`}}",
  "cluster": "{{user `vsphere-cluster`}}",
  "network": "{{user `vsphere-network`}}",
  "datastore": "{{user `vsphere-datastore`}}",

  "vm_name": "centos-template",
  "notes": "Build via Packer",
  "guest_os_type": "centos7_64Guest",
          
  "boot_wait": "10s",
  "boot_order": "disk,cdrom,floppy",

  "ssh_username": "{{user `ssh_username`}}",
  "ssh_password": "{{user `ssh_password`}}",

  "CPUs": "1",
  "RAM": "1024",
  "RAM_reserve_all": false,
  "disk_controller_type": "pvscsi",
  "disk_size": "40960",
  "disk_thin_provisioned": true,
  "network_card": "vmxnet3",

  "convert_to_template": true,

  "iso_paths": ["[datastore1] iso/CentOS-7-x86_64-minimal.iso"],

  "boot_command": [
   "<tab> text ks=http://172.30.0.1:8343/ks.cfg <wait5><enter>"
   ]
  }
 ]
]
